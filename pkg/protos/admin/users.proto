syntax = "proto3";

package admin;

import "github.com/envoyproxy/protoc-gen-validate/validate/validate.proto";

option go_package="github.com/Jim3Things/CloudChamber/pkg/protos/admin";

// User is a representation of an individual user
//
// TODO This is just a placeholder until we have proper user records held
//     in a persisted store (Etcd)
//
message user {
  string name = 1 [(validate.rules).string.min_len = 1];
  bytes password_hash = 2;
  int64 user_id = 3;
  bool enabled = 4;

  // The rights this user has
  bool account_manager = 5;
}

message user_internal {
  user user = 1;
  int64 revision = 2;
}

message user_public {
  bool enabled = 1;

  // The rights this user has
  bool account_manager = 2;
}

message user_definition {
  string password = 1 [(validate.rules).string.min_len = 1];
  bool enabled = 2;

  // The rights this user has
  bool account_manager = 3;
}